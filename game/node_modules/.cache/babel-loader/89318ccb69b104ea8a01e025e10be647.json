{"ast":null,"code":"var _jsxFileName = \"/Users/u393899/workspace/flippin-game/game/src/components/Gameboard.js\";\nimport React, { Component } from \"react\";\nimport Card from \"./Card\";\nimport Player from \"./Player\";\nimport song from \"../resources/sounds/simpsonsThemeSong.mp3\"; //TODO: add to repo, host it somewhere\n\nclass Gameboard extends Component {\n  constructor(props) {\n    super(props);\n    this.characters = [\"Apu\", \"Bart\", \"Homer\", \"Jeff\", \"Itchy\", \"Krusty\", \"Lisa\", \"Maggie\", \"Marge\", \"MrBurns\", \"Ned\", \"Ralph\", \"Smithers\"];\n    this.randomizedCharacters = [];\n    this.queue = [];\n    this.matched = [];\n    this.clickCount = 0;\n  }\n\n  flipMe(currentCard) {\n    this.clickCount++;\n\n    if (!this.matched.includes(currentCard.props.character)) {\n      this.queue.push(currentCard);\n\n      if (this.queue.length === 1) {\n        currentCard.setState(prevState => ({\n          isFlipped: !prevState.isFlipped\n        }));\n      }\n\n      if (this.queue.length === 2) {\n        if (this.queue[0].props.character === currentCard.props.character && this.queue[0].props.id !== currentCard.props.id) {\n          currentCard.setState(prevState => ({\n            isFlipped: !prevState.isFlipped\n          }));\n          currentCard.handleClick = null;\n          this.queue[0].handleClick = null;\n          this.queue = [];\n          this.matched.push(currentCard.props.character);\n\n          if (this.matched.length === 8) {\n            document.getElementById('themeSong').play();\n            document.getElementById('clickCountTotal').innerText = \"WINNER!!! Your click count was: \" + this.clickCount + \"!\";\n            document.getElementById('leaderboard').innerText = \"You don't make it to our list yet\";\n            this.sleep(1100, this).then(() => {\n              document.getElementById('status').style.display = \"block\";\n              document.getElementById('playerForm').style.display = \"block\";\n            });\n          }\n        } else {\n          currentCard.setState(prevState => ({\n            isFlipped: !prevState.isFlipped\n          }));\n          this.sleep(1000, this).then(() => {\n            currentCard.setState(prevState => ({\n              isFlipped: !prevState.isFlipped\n            }));\n            this.queue[0].setState(prevState => ({\n              isFlipped: !prevState.isFlipped\n            }));\n            this.queue = [];\n          });\n        }\n      }\n    }\n  }\n\n  sleep(ms, currentObject) {\n    return new Promise(resolve => setTimeout(resolve, ms, currentObject));\n  }\n\n  shuffleArray(array) {\n    let currentIndex = array.length;\n    let temporaryValue, randomIndex;\n\n    while (0 !== currentIndex) {\n      randomIndex = Math.floor(Math.random() * currentIndex);\n      currentIndex -= 1;\n      temporaryValue = array[currentIndex];\n      array[currentIndex] = array[randomIndex];\n      array[randomIndex] = temporaryValue;\n    }\n\n    return array;\n  }\n\n  render() {\n    this.shuffleArray(this.characters);\n    this.randomizedCharacters = this.randomizedCharacters.concat(this.characters.slice(0, 8), this.characters.slice(0, 8));\n    this.shuffleArray(this.randomizedCharacters);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"status\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Player, {\n      id: \"playerForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"clickCountTotal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"leaderboard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(\"audio\", {\n      id: \"themeSong\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"source\", {\n      src: song,\n      type: \"audio/mp3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      id: \"gameboard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, this.randomizedCharacters.map((character, id) => {\n      return React.createElement(Card, {\n        id: id,\n        parent: this,\n        character: character,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      });\n    })));\n  }\n\n}\n\nexport default Gameboard;","map":{"version":3,"sources":["/Users/u393899/workspace/flippin-game/game/src/components/Gameboard.js"],"names":["React","Component","Card","Player","song","Gameboard","constructor","props","characters","randomizedCharacters","queue","matched","clickCount","flipMe","currentCard","includes","character","push","length","setState","prevState","isFlipped","id","handleClick","document","getElementById","play","innerText","sleep","then","style","display","ms","currentObject","Promise","resolve","setTimeout","shuffleArray","array","currentIndex","temporaryValue","randomIndex","Math","floor","random","render","concat","slice","map"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport Card from \"./Card\";\nimport Player from \"./Player\";\nimport song from \"../resources/sounds/simpsonsThemeSong.mp3\";\n\n//TODO: add to repo, host it somewhere\n\nclass Gameboard extends Component {\n    constructor(props) {\n        super(props);\n        this.characters = [\"Apu\", \"Bart\", \"Homer\", \"Jeff\", \"Itchy\", \"Krusty\", \"Lisa\", \"Maggie\", \"Marge\", \"MrBurns\", \"Ned\", \"Ralph\", \"Smithers\"];\n        this.randomizedCharacters = [];\n        this.queue = [];\n        this.matched = [];\n        this.clickCount = 0;\n    }\n\n    flipMe(currentCard){\n        this.clickCount++;\n\n        if(!this.matched.includes(currentCard.props.character)) {\n            this.queue.push(currentCard);\n            if (this.queue.length === 1) {\n                currentCard.setState(prevState => ({isFlipped: !prevState.isFlipped}));\n            }\n            if (this.queue.length === 2) {\n                if (this.queue[0].props.character === currentCard.props.character && this.queue[0].props.id !== currentCard.props.id) {\n                    currentCard.setState(prevState => ({isFlipped: !prevState.isFlipped}));\n                    currentCard.handleClick = null;\n                    this.queue[0].handleClick = null;\n                    this.queue = [];\n                    this.matched.push(currentCard.props.character);\n                    if (this.matched.length === 8) {\n                        document.getElementById('themeSong').play();\n                        document.getElementById('clickCountTotal').innerText=\"WINNER!!! Your click count was: \"+this.clickCount+\"!\";\n                        document.getElementById('leaderboard').innerText=\"You don't make it to our list yet\";\n                        this.sleep(1100, this).then(() => {\n                            document.getElementById('status').style.display=\"block\";\n                            document.getElementById('playerForm').style.display=\"block\";\n                        });\n                    }\n                } else {\n                    currentCard.setState(prevState => ({isFlipped: !prevState.isFlipped}));\n                    this.sleep(1000, this).then(() => {\n                        currentCard.setState(prevState => ({isFlipped: !prevState.isFlipped}));\n                        this.queue[0].setState(prevState => ({isFlipped: !prevState.isFlipped}));\n                        this.queue = [];\n                    });\n                }\n            }\n        }\n    }\n\n    sleep(ms, currentObject) {\n        return new Promise(resolve => setTimeout(resolve, ms, currentObject));\n    }\n\n    shuffleArray(array) {\n        let currentIndex = array.length;\n        let temporaryValue, randomIndex;\n\n        while (0 !== currentIndex) {\n            randomIndex = Math.floor(Math.random() * currentIndex);\n            currentIndex -= 1;\n\n            temporaryValue = array[currentIndex];\n            array[currentIndex] = array[randomIndex];\n            array[randomIndex] = temporaryValue;\n        }\n\n        return array;\n    }\n\n    render() {\n        this.shuffleArray(this.characters);\n        this.randomizedCharacters = this.randomizedCharacters.concat(this.characters.slice(0,8), this.characters.slice(0, 8));\n        this.shuffleArray(this.randomizedCharacters);\n        return (\n            <div>\n                <div id=\"status\">\n                    <Player id=\"playerForm\"/>\n                    <div id=\"clickCountTotal\"></div>\n                    <div id=\"leaderboard\"></div>\n                    <audio id=\"themeSong\">\n                        <source src={song} type=\"audio/mp3\"></source>\n                    </audio>\n                </div>\n                <div id=\"gameboard\">\n                    {this.randomizedCharacters.map((character, id) => {return <Card id={id} parent={this} character={character} />})}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Gameboard;"]},"metadata":{},"sourceType":"module"}
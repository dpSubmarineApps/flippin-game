{"ast":null,"code":"var _jsxFileName = \"/Users/u393899/workspace/flippin-game/game/src/components/Gameboard.js\";\nimport React, { Component } from \"react\";\nimport Card from \"./Card\";\nimport Player from \"./Player\";\nimport song from \"../resources/sounds/simpsonsThemeSong.mp3\"; //TODO: add to repo, host it somewhere\n\nclass Gameboard extends Component {\n  constructor(props) {\n    super(props);\n    this.characters = [\"Apu\", \"Bart\", \"Homer\", \"Jeff\", \"Itchy\", \"Krusty\", \"Lisa\", \"Maggie\", \"Marge\", \"MrBurns\", \"Ned\", \"Ralph\", \"Smithers\"];\n    this.randomizedCharacters = this.shuffleArray([].concat(this.characters.slice(0, 8), this.characters.slice(0, 8)));\n    this.queue = [];\n    this.matched = [];\n    this.clickCount = 0;\n    this.player = [];\n  }\n\n  generatePlayer(clickCount) {\n    console.log(clickCount);\n    this.setState({\n      player: this.player.push(React.createElement(Player, {\n        clicks: clickCount,\n        initials: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        },\n        __self: this\n      }))\n    });\n  }\n\n  flipMe(currentCard) {\n    this.clickCount++;\n\n    if (!this.matched.includes(currentCard.props.character)) {\n      this.queue.push(currentCard);\n\n      if (this.queue.length === 1) {\n        currentCard.setState(prevState => ({\n          isFlipped: !prevState.isFlipped\n        }));\n      }\n\n      if (this.queue.length === 2) {\n        if (this.queue[0].props.character === currentCard.props.character && this.queue[0].props.id !== currentCard.props.id) {\n          currentCard.setState(prevState => ({\n            isFlipped: !prevState.isFlipped\n          }));\n          currentCard.handleClick = null;\n          this.queue[0].handleClick = null;\n          this.queue = [];\n          this.matched.push(currentCard.props.character);\n\n          if (this.matched.length === 1) {\n            document.getElementById('themeSong').play();\n            document.getElementById('clickCountTotal').innerText = \"WINNER!!! Your click count was: \" + this.clickCount + \"!\";\n            document.getElementById('leaderboard').innerText = \"You don't make it to our list yet\";\n            this.generatePlayer(this.clickCount);\n            this.sleep(1100, this).then(() => {\n              document.getElementById('status').style.display = \"block\";\n              document.getElementById('playerForm').style.display = \"block\";\n            });\n          }\n        } else {\n          currentCard.setState(prevState => ({\n            isFlipped: !prevState.isFlipped\n          }));\n          this.sleep(1000, this).then(() => {\n            currentCard.setState(prevState => ({\n              isFlipped: !prevState.isFlipped\n            }));\n            this.queue[0].setState(prevState => ({\n              isFlipped: !prevState.isFlipped\n            }));\n            this.queue = [];\n          });\n        }\n      }\n    }\n  }\n\n  sleep(ms, currentObject) {\n    return new Promise(resolve => setTimeout(resolve, ms, currentObject));\n  }\n\n  shuffleArray(array) {\n    let currentIndex = array.length;\n    let temporaryValue, randomIndex;\n\n    while (0 !== currentIndex) {\n      randomIndex = Math.floor(Math.random() * currentIndex);\n      currentIndex -= 1;\n      temporaryValue = array[currentIndex];\n      array[currentIndex] = array[randomIndex];\n      array[randomIndex] = temporaryValue;\n    }\n\n    return array;\n  }\n\n  render() {\n    console.log(this.randomizedCharacters);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"status\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"player\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, this.player), React.createElement(\"div\", {\n      id: \"playerPlaceholder\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"clickCountTotal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"leaderboard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"audio\", {\n      id: \"themeSong\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"source\", {\n      src: song,\n      type: \"audio/mp3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      id: \"gameboard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, this.randomizedCharacters.map((character, id) => {\n      return React.createElement(Card, {\n        id: id,\n        parent: this,\n        character: character,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      });\n    })));\n  }\n\n}\n\nexport default Gameboard;","map":{"version":3,"sources":["/Users/u393899/workspace/flippin-game/game/src/components/Gameboard.js"],"names":["React","Component","Card","Player","song","Gameboard","constructor","props","characters","randomizedCharacters","shuffleArray","concat","slice","queue","matched","clickCount","player","generatePlayer","console","log","setState","push","flipMe","currentCard","includes","character","length","prevState","isFlipped","id","handleClick","document","getElementById","play","innerText","sleep","then","style","display","ms","currentObject","Promise","resolve","setTimeout","array","currentIndex","temporaryValue","randomIndex","Math","floor","random","render","map"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport Card from \"./Card\";\nimport Player from \"./Player\";\nimport song from \"../resources/sounds/simpsonsThemeSong.mp3\";\n\n//TODO: add to repo, host it somewhere\n\nclass Gameboard extends Component {\n    constructor(props) {\n        super(props);\n        this.characters = [\"Apu\", \"Bart\", \"Homer\", \"Jeff\", \"Itchy\", \"Krusty\", \"Lisa\", \"Maggie\", \"Marge\", \"MrBurns\", \"Ned\", \"Ralph\", \"Smithers\"];\n        this.randomizedCharacters = this.shuffleArray([].concat(this.characters.slice(0, 8), this.characters.slice(0, 8)));\n        this.queue = [];\n        this.matched = [];\n        this.clickCount = 0;\n        this.player = [];\n    }\n\n    generatePlayer(clickCount) {\n        console.log(clickCount);\n        this.setState({\n            player: this.player.push(<Player clicks={clickCount} initials={\"\"}/>)\n        })\n    }\n\n    flipMe(currentCard) {\n        this.clickCount++;\n\n        if (!this.matched.includes(currentCard.props.character)) {\n            this.queue.push(currentCard);\n            if (this.queue.length === 1) {\n                currentCard.setState(prevState => ({isFlipped: !prevState.isFlipped}));\n            }\n            if (this.queue.length === 2) {\n                if (this.queue[0].props.character === currentCard.props.character && this.queue[0].props.id !== currentCard.props.id) {\n                    currentCard.setState(prevState => ({isFlipped: !prevState.isFlipped}));\n                    currentCard.handleClick = null;\n                    this.queue[0].handleClick = null;\n                    this.queue = [];\n                    this.matched.push(currentCard.props.character);\n                    if (this.matched.length === 1) {\n                        document.getElementById('themeSong').play();\n                        document.getElementById('clickCountTotal').innerText = \"WINNER!!! Your click count was: \" + this.clickCount + \"!\";\n                        document.getElementById('leaderboard').innerText = \"You don't make it to our list yet\";\n                        this.generatePlayer(this.clickCount);\n                        this.sleep(1100, this).then(() => {\n                            document.getElementById('status').style.display = \"block\";\n                            document.getElementById('playerForm').style.display = \"block\";\n                        });\n                    }\n                } else {\n                    currentCard.setState(prevState => ({isFlipped: !prevState.isFlipped}));\n                    this.sleep(1000, this).then(() => {\n                        currentCard.setState(prevState => ({isFlipped: !prevState.isFlipped}));\n                        this.queue[0].setState(prevState => ({isFlipped: !prevState.isFlipped}));\n                        this.queue = [];\n                    });\n                }\n            }\n        }\n    }\n\n    sleep(ms, currentObject) {\n        return new Promise(resolve => setTimeout(resolve, ms, currentObject));\n    }\n\n    shuffleArray(array) {\n        let currentIndex = array.length;\n        let temporaryValue, randomIndex;\n\n        while (0 !== currentIndex) {\n            randomIndex = Math.floor(Math.random() * currentIndex);\n            currentIndex -= 1;\n\n            temporaryValue = array[currentIndex];\n            array[currentIndex] = array[randomIndex];\n            array[randomIndex] = temporaryValue;\n        }\n\n        return array;\n    }\n\n    render() {\n        console.log(this.randomizedCharacters);\n        return (\n            <div>\n                <div id=\"status\">\n\n                    <div id=\"player\">{this.player}</div>\n                    <div id=\"playerPlaceholder\"></div>\n                    <div id=\"clickCountTotal\"></div>\n                    <div id=\"leaderboard\"></div>\n                    <audio id=\"themeSong\">\n                        <source src={song} type=\"audio/mp3\"></source>\n                    </audio>\n                </div>\n                <div id=\"gameboard\">\n                    {this.randomizedCharacters.map((character, id) => {\n                        return <Card id={id} parent={this} character={character}/>\n                    })}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Gameboard;"]},"metadata":{},"sourceType":"module"}
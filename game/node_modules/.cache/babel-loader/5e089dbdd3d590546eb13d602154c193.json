{"ast":null,"code":"var _jsxFileName = \"/Users/u393899/workspace/flippin-game/game/src/components/Gameboard.js\";\nimport React, { Component } from \"react\";\nimport Card from \"./Card\";\nimport Player from \"./Player\";\nimport song from \"../resources/sounds/simpsonsThemeSong.mp3\"; //TODO: add to repo, host it somewhere\n\nclass Gameboard extends Component {\n  constructor(props) {\n    super(props);\n    this.characters = [\"Apu\", \"Bart\", \"Homer\", \"Jeff\", \"Itchy\", \"Krusty\", \"Lisa\", \"Maggie\", \"Marge\", \"MrBurns\", \"Ned\", \"Ralph\", \"Smithers\"];\n    this.randomizedCharacters = this.shuffleArray([].concat(this.characters.slice(0, 8), this.characters.slice(0, 8)));\n    this.queue = [];\n    this.matched = [];\n    this.clickCount = 0;\n    this.gameOver = false;\n    this.player = [];\n  }\n\n  generatePlayer(clickCount) {\n    this.setState({\n      player: this.player.push(React.createElement(Player, {\n        clicks: clickCount,\n        initials: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        },\n        __self: this\n      }))\n    });\n  }\n\n  flipMe(currentCard) {\n    this.clickCount++;\n\n    if (!this.matched.includes(currentCard.props.character)) {\n      this.queue.push(currentCard);\n\n      if (this.queue.length === 1) {\n        currentCard.setState(prevState => ({\n          isFlipped: !prevState.isFlipped\n        }));\n      }\n\n      if (this.queue.length === 2) {\n        if (this.queue[0].props.character === currentCard.props.character && this.queue[0].props.id !== currentCard.props.id) {\n          currentCard.setState(prevState => ({\n            isFlipped: !prevState.isFlipped\n          }));\n          currentCard.handleClick = null;\n          this.queue[0].handleClick = null;\n          this.queue = [];\n          this.matched.push(currentCard.props.character);\n\n          if (this.matched.length === 1) {\n            document.getElementById('themeSong').play();\n            document.getElementById('clickCountTotal').innerText = \"WINNER!!! Your click count was: \" + this.clickCount + \"!\";\n            document.getElementById('leaderboard').innerText = \"You don't make it to our list yet\";\n            this.gameOver = true;\n            this.generatePlayer(this.clickCount); // document.getElementById('playerPlaceholder').append(this.player);\n            //this.player.clicks = this.clickCount;\n\n            this.sleep(1100, this).then(() => {\n              document.getElementById('status').style.display = \"block\"; //                       document.getElementById('playerForm').style.display=\"block\";\n              // document.getElementById('inputClicks').innerText=this.clickCount;\n            });\n          }\n        } else {\n          currentCard.setState(prevState => ({\n            isFlipped: !prevState.isFlipped\n          }));\n          this.sleep(1000, this).then(() => {\n            currentCard.setState(prevState => ({\n              isFlipped: !prevState.isFlipped\n            }));\n            this.queue[0].setState(prevState => ({\n              isFlipped: !prevState.isFlipped\n            }));\n            this.queue = [];\n          });\n        }\n      }\n    }\n  }\n\n  sleep(ms, currentObject) {\n    return new Promise(resolve => setTimeout(resolve, ms, currentObject));\n  }\n\n  shuffleArray(array) {\n    let currentIndex = array.length;\n    let temporaryValue, randomIndex;\n\n    while (0 !== currentIndex) {\n      randomIndex = Math.floor(Math.random() * currentIndex);\n      currentIndex -= 1;\n      temporaryValue = array[currentIndex];\n      array[currentIndex] = array[randomIndex];\n      array[randomIndex] = temporaryValue;\n    }\n\n    return array;\n  }\n\n  render() {\n    // this.shuffleArray(this.characters);\n    // this.randomizedCharacters = this.randomizedCharacters.concat(this.characters.slice(0, 8), this.characters.slice(0, 8));\n    // this.shuffleArray(this.randomizedCharacters);\n    console.log(this.randomizedCharacters);\n    console.log(this.player);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"status\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"player\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, this.player), React.createElement(\"div\", {\n      id: \"playerPlaceholder\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"clickCountTotal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"leaderboard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"audio\", {\n      id: \"themeSong\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"source\", {\n      src: song,\n      type: \"audio/mp3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      id: \"gameboard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, this.randomizedCharacters.map((character, id) => {\n      return React.createElement(Card, {\n        id: id,\n        parent: this,\n        character: character,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      });\n    })));\n  }\n\n}\n\nexport default Gameboard;","map":{"version":3,"sources":["/Users/u393899/workspace/flippin-game/game/src/components/Gameboard.js"],"names":["React","Component","Card","Player","song","Gameboard","constructor","props","characters","randomizedCharacters","shuffleArray","concat","slice","queue","matched","clickCount","gameOver","player","generatePlayer","setState","push","flipMe","currentCard","includes","character","length","prevState","isFlipped","id","handleClick","document","getElementById","play","innerText","sleep","then","style","display","ms","currentObject","Promise","resolve","setTimeout","array","currentIndex","temporaryValue","randomIndex","Math","floor","random","render","console","log","map"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport Card from \"./Card\";\nimport Player from \"./Player\";\nimport song from \"../resources/sounds/simpsonsThemeSong.mp3\";\n\n//TODO: add to repo, host it somewhere\n\nclass Gameboard extends Component {\n    constructor(props) {\n        super(props);\n        this.characters = [\"Apu\", \"Bart\", \"Homer\", \"Jeff\", \"Itchy\", \"Krusty\", \"Lisa\", \"Maggie\", \"Marge\", \"MrBurns\", \"Ned\", \"Ralph\", \"Smithers\"];\n        this.randomizedCharacters = this.shuffleArray([].concat(this.characters.slice(0, 8), this.characters.slice(0, 8)));\n        this.queue = [];\n        this.matched = [];\n        this.clickCount = 0;\n        this.gameOver = false;\n        this.player = [];\n    }\n\n    generatePlayer(clickCount) {\n        this.setState({\n            player: this.player.push(<Player clicks={clickCount} initials={\"\"}/>)\n        })\n    }\n\n    flipMe(currentCard) {\n        this.clickCount++;\n\n        if (!this.matched.includes(currentCard.props.character)) {\n            this.queue.push(currentCard);\n            if (this.queue.length === 1) {\n                currentCard.setState(prevState => ({isFlipped: !prevState.isFlipped}));\n            }\n            if (this.queue.length === 2) {\n                if (this.queue[0].props.character === currentCard.props.character && this.queue[0].props.id !== currentCard.props.id) {\n                    currentCard.setState(prevState => ({isFlipped: !prevState.isFlipped}));\n                    currentCard.handleClick = null;\n                    this.queue[0].handleClick = null;\n                    this.queue = [];\n                    this.matched.push(currentCard.props.character);\n                    if (this.matched.length === 1) {\n                        document.getElementById('themeSong').play();\n                        document.getElementById('clickCountTotal').innerText = \"WINNER!!! Your click count was: \" + this.clickCount + \"!\";\n                        document.getElementById('leaderboard').innerText = \"You don't make it to our list yet\";\n                        this.gameOver = true;\n                        this.generatePlayer(this.clickCount);\n                        // document.getElementById('playerPlaceholder').append(this.player);\n                        //this.player.clicks = this.clickCount;\n                        this.sleep(1100, this).then(() => {\n                            document.getElementById('status').style.display = \"block\";\n                            //                       document.getElementById('playerForm').style.display=\"block\";\n                            // document.getElementById('inputClicks').innerText=this.clickCount;\n                        });\n                    }\n                } else {\n                    currentCard.setState(prevState => ({isFlipped: !prevState.isFlipped}));\n                    this.sleep(1000, this).then(() => {\n                        currentCard.setState(prevState => ({isFlipped: !prevState.isFlipped}));\n                        this.queue[0].setState(prevState => ({isFlipped: !prevState.isFlipped}));\n                        this.queue = [];\n                    });\n                }\n            }\n        }\n    }\n\n    sleep(ms, currentObject) {\n        return new Promise(resolve => setTimeout(resolve, ms, currentObject));\n    }\n\n    shuffleArray(array) {\n        let currentIndex = array.length;\n        let temporaryValue, randomIndex;\n\n        while (0 !== currentIndex) {\n            randomIndex = Math.floor(Math.random() * currentIndex);\n            currentIndex -= 1;\n\n            temporaryValue = array[currentIndex];\n            array[currentIndex] = array[randomIndex];\n            array[randomIndex] = temporaryValue;\n        }\n\n        return array;\n    }\n\n    render() {\n        // this.shuffleArray(this.characters);\n        // this.randomizedCharacters = this.randomizedCharacters.concat(this.characters.slice(0, 8), this.characters.slice(0, 8));\n        // this.shuffleArray(this.randomizedCharacters);\n        console.log(this.randomizedCharacters);\n        console.log(this.player);\n        return (\n            <div>\n                <div id=\"status\">\n\n                    {/*{ this.gameOver ? <Player clicks={this.clickCount} initials={\"\"}/> : <div>hi</div> }*/}\n                    <div id=\"player\">{this.player}</div>\n                    {/*<Player />*/}\n                    <div id=\"playerPlaceholder\"></div>\n                    <div id=\"clickCountTotal\"></div>\n                    <div id=\"leaderboard\"></div>\n                    <audio id=\"themeSong\">\n                        <source src={song} type=\"audio/mp3\"></source>\n                    </audio>\n                </div>\n                <div id=\"gameboard\">\n                    {this.randomizedCharacters.map((character, id) => {\n                        return <Card id={id} parent={this} character={character}/>\n                    })}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Gameboard;"]},"metadata":{},"sourceType":"module"}